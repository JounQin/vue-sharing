{"version":3,"sources":["randomText.es6"],"names":["randomText","randomInteger","num","noZero","output","i","Math","ceil","random","floor","randomDecimal","integerNum","decimalNum","intervalId","text","onUpdate","totalDelay","intervalDelay","clearInterval","len","length","pointIndex","indexOf","intervalStart","Date","now","setInterval","duration","index","toString","substr"],"mappings":";;AAAA,IAAMA,aAAc,YAAY;AAC9B,WAASC,aAAT,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AAClC,QAAIC,SAAS,EAAb;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,GAApB,EAAyBG,GAAzB,EAA8B;AAC5BD,gBAAUD,SAASG,KAAKC,IAAL,CAAUD,KAAKE,MAAL,KAAgB,CAA1B,CAAT,GAAwCF,KAAKG,KAAL,CAAWH,KAAKE,MAAL,KAAgB,EAA3B,CAAlD;AACD;AACD,WAAOJ,MAAP;AACD;;AAED,WAASM,aAAT,CAAuBC,UAAvB,EAAmCC,UAAnC,EAA+C;AAC7C,QAAIR,SAASH,cAAcU,UAAd,CAAb;AACA,YAAQC,UAAR,KAAuBR,UAAU,MAAMH,cAAcW,UAAd,CAAvC;AACA,WAAOR,MAAP;AACD;;AAED,MAAIS,mBAAJ;;AAEA,SAAO,UAAUC,IAAV,EAAgBC,QAAhB,EAAwE;AAAA,QAA9CC,UAA8C,uEAAjC,GAAiC;AAAA,QAA5BC,aAA4B,uEAAZ,EAAY;AAAA,QAART,MAAQ;;AAC7E,QAAGM,QAAQ,IAAX,EAAiB;;AAEjBI,kBAAcL,UAAd;;AAEAC,WAAOA,OAAO,EAAd;;AAEA,QAAMK,MAAML,KAAKM,MAAjB;;AAEA,QAAMC,aAAaP,KAAKQ,OAAL,CAAa,GAAb,CAAnB;;AAEAd,aAASA,UAAU,YAAY;AAC3B,aAAO,CAAC,CAAD,KAAOa,UAAP,GAAoBpB,cAAckB,GAAd,CAApB,GAAyCT,cAAcW,UAAd,EAA0BF,MAAME,UAAN,GAAmB,CAA7C,CAAhD;AACD,KAFH;;AAIA,QAAIE,gBAAgBC,KAAKC,GAAL,EAApB;AACA,QAAIpB,IAAI,CAAR;AACAQ,iBAAaa,YAAY,YAAM;AAC7B,UAAMC,WAAWH,KAAKC,GAAL,KAAaF,aAA9B;;AAEA,UAAII,YAAYX,UAAhB,EAA4B;AAC1BE,sBAAcL,UAAd;AACA,eAAOE,YAAYA,SAASD,IAAT,CAAnB;AACD;;AAED,UAAId,aAAaQ,QAAjB;AACA,UAAIoB,QAAQT,MAAMd,CAAN,GAAU,CAAtB;;AAEA,cAAQL,UAAR,KAAuBA,aAAa,EAApC;;AAEAA,mBAAaA,WAAW6B,QAAX,GAAsBC,MAAtB,CAA6B,CAA7B,EAAgCF,KAAhC,IAAyCd,KAAKgB,MAAL,CAAYF,KAAZ,CAAtD;;AAEAD,iBAAWX,aAAaG,GAAb,GAAmBd,CAA9B,IAAmCA,GAAnC;;AAEAU,kBAAYA,SAASf,UAAT,CAAZ;AACD,KAlBY,EAkBViB,aAlBU,CAAb;AAmBD,GApCD;AAqCD,CAtDkB,EAAnB","file":"randomText.js","sourcesContent":["const randomText = (function () {\n  function randomInteger(num, noZero) {\n    let output = ''\n    for (let i = 0; i < num; i++) {\n      output += noZero ? Math.ceil(Math.random() * 9) : Math.floor(Math.random() * 10)\n    }\n    return output\n  }\n\n  function randomDecimal(integerNum, decimalNum) {\n    let output = randomInteger(integerNum)\n    null == decimalNum || (output += '.' + randomInteger(decimalNum))\n    return output\n  }\n\n  let intervalId\n\n  return function (text, onUpdate, totalDelay = 500, intervalDelay = 10, random) {\n    if(text == null) return\n\n    clearInterval(intervalId)\n\n    text = text + ''\n\n    const len = text.length\n\n    const pointIndex = text.indexOf('.')\n\n    random = random || function () {\n        return -1 === pointIndex ? randomInteger(len) : randomDecimal(pointIndex, len - pointIndex - 1)\n      }\n\n    let intervalStart = Date.now()\n    let i = 0\n    intervalId = setInterval(() => {\n      const duration = Date.now() - intervalStart\n\n      if (duration >= totalDelay) {\n        clearInterval(intervalId)\n        return onUpdate && onUpdate(text)\n      }\n\n      let randomText = random()\n      let index = len - i + 1\n\n      null == randomText && (randomText = '')\n\n      randomText = randomText.toString().substr(0, index) + text.substr(index)\n\n      duration > totalDelay / len * i && i++\n\n      onUpdate && onUpdate(randomText)\n    }, intervalDelay)\n  }\n})()\n"]}